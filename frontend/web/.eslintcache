[{"/home/ewerton/projetos/fakeInsta/frontend/web/src/index.js":"1","/home/ewerton/projetos/fakeInsta/frontend/web/src/App.js":"2","/home/ewerton/projetos/fakeInsta/frontend/web/src/routes.js":"3","/home/ewerton/projetos/fakeInsta/frontend/web/src/components/Header.js":"4","/home/ewerton/projetos/fakeInsta/frontend/web/src/pages/Feed.js":"5","/home/ewerton/projetos/fakeInsta/frontend/web/src/pages/New.js":"6","/home/ewerton/projetos/fakeInsta/frontend/web/src/auth/login.js":"7","/home/ewerton/projetos/fakeInsta/frontend/web/src/services/Api.js":"8"},{"size":220,"mtime":1614390426120,"results":"9","hashOfConfig":"10"},{"size":300,"mtime":1614390426068,"results":"11","hashOfConfig":"10"},{"size":724,"mtime":1614444668760,"results":"12","hashOfConfig":"10"},{"size":533,"mtime":1614390426120,"results":"13","hashOfConfig":"10"},{"size":1917,"mtime":1614390426120,"results":"14","hashOfConfig":"10"},{"size":1732,"mtime":1614390426120,"results":"15","hashOfConfig":"10"},{"size":3862,"mtime":1614390426120,"results":"16","hashOfConfig":"10"},{"size":116,"mtime":1614390426120,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"qm3qi8",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/ewerton/projetos/fakeInsta/frontend/web/src/index.js",[],["36","37"],"/home/ewerton/projetos/fakeInsta/frontend/web/src/App.js",[],"/home/ewerton/projetos/fakeInsta/frontend/web/src/routes.js",["38","39"],"/home/ewerton/projetos/fakeInsta/frontend/web/src/components/Header.js",[],"/home/ewerton/projetos/fakeInsta/frontend/web/src/pages/Feed.js",["40"],"import { useEffect, useState } from \"react\";\nimport \"./Feed.css\";\nimport more from \"../assets/more.svg\";\nimport like from \"../assets/like.svg\";\nimport comment from \"../assets/comment.svg\";\nimport send from \"../assets/send.svg\";\nimport api from \"../services/Api\";\nimport io from \"socket.io-client\";\n\nfunction Feed() {\n  const [feed, setFeed] = useState([]);\n\n  const socket = io(\"http://localhost:3333\");\n\n  useEffect(() => {\n    async function load() {\n      const response = await api.get(\"/lock/posts\");\n      setFeed(response.data);\n    }\n    load();\n  }, []);\n\n  useEffect(() => {\n    if (feed) registerToSocket(feed);\n  }, [socket]);\n\n  function registerToSocket(feed) {\n    socket.on(\"post\", (newPost) => {\n      setFeed([newPost, ...feed]);\n    });\n\n    socket.on(\"like\", (likedPost) => {\n      setFeed(\n        feed.map((post) => (post._id === likedPost._id ? likedPost : post))\n      );\n    });\n  }\n\n  function handleLike(id) {\n    api.post(`/posts/${id}/like`);\n  }\n\n  return (\n    <section id=\"post-list\">\n      {feed.map((post) => (\n        <article key={post._id}>\n          <header>\n            <div className=\"user-info\">\n              <span>{post.author}</span>\n              <span className=\"place\">{post.place}</span>\n            </div>\n            <img src={more} alt=\"\" />\n          </header>\n          <img src={`http://localhost:3333/files/${post.image}`} alt=\"\" />\n          <footer>\n            <div className=\"actions\">\n              <button onClick={() => handleLike(post._id)}>\n                <img src={like} alt=\"\" />\n              </button>\n              <img src={comment} alt=\"\" />\n              <img src={send} alt=\"\" />\n            </div>\n            <strong>{post.likes}</strong>\n            <p>\n              {post.description}\n              <span>{post.hashtags}</span>\n            </p>\n          </footer>\n        </article>\n      ))}\n    </section>\n  );\n}\n\nexport default Feed;\n","/home/ewerton/projetos/fakeInsta/frontend/web/src/pages/New.js",[],"/home/ewerton/projetos/fakeInsta/frontend/web/src/auth/login.js",[],"/home/ewerton/projetos/fakeInsta/frontend/web/src/services/Api.js",[],{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","severity":1,"message":"46","line":1,"column":25,"nodeType":"47","messageId":"48","endLine":1,"endColumn":33},{"ruleId":"45","severity":1,"message":"49","line":1,"column":35,"nodeType":"47","messageId":"48","endLine":1,"endColumn":41},{"ruleId":"50","severity":1,"message":"51","line":25,"column":6,"nodeType":"52","endLine":25,"endColumn":14,"suggestions":"53"},"no-native-reassign",["54"],"no-negated-in-lhs",["55"],"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'Switch' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'feed' and 'registerToSocket'. Either include them or remove the dependency array.","ArrayExpression",["56"],"no-global-assign","no-unsafe-negation",{"desc":"57","fix":"58"},"Update the dependencies array to be: [feed, registerToSocket, socket]",{"range":"59","text":"60"},[628,636],"[feed, registerToSocket, socket]"]